import{c as le}from"./apexcharts-042e6b4d.js";var ce={exports:{}};(function(W,ue){(function(b,k){W.exports=k()})(le,function(){function b(i,a){i.prototype=Object.create(a.prototype),i.prototype.constructor=i,k(i,a)}function k(i,a){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},k(i,a)}function z(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function F(i){throw new TypeError('"'+i+'" is read-only')}function P(i,a){(a==null||a>i.length)&&(a=i.length);for(var e=0,t=new Array(a);e<a;e++)t[e]=i[e];return t}function N(i,a){var e=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(e)return(e=e.call(i)).next.bind(e);if(Array.isArray(i)||(e=function(s,n){if(s){if(typeof s=="string")return P(s,n);var r=Object.prototype.toString.call(s).slice(8,-1);return r==="Object"&&s.constructor&&(r=s.constructor.name),r==="Map"||r==="Set"?Array.from(s):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?P(s,n):void 0}}(i))||a&&i&&typeof i.length=="number"){e&&(i=e);var t=0;return function(){return t>=i.length?{done:!0}:{done:!1,value:i[t++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(i){for(var a=(this.document||this.ownerDocument).querySelectorAll(i),e=a.length;F("i")>=0&&a.item(e)!==this;);return e>-1}),Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(i){if(i==null)throw new TypeError("Cannot convert first argument to object");for(var a=Object(i),e=1;e<arguments.length;e++){var t=arguments[e];if(t!=null){t=Object(t);for(var s=Object.keys(Object(t)),n=0,r=s.length;n<r;n++){var o=s[n],h=Object.getOwnPropertyDescriptor(t,o);h!==void 0&&h.enumerable&&(a[o]=t[o])}}}return a}});var q=function(i){return function(a){return!!a&&typeof a=="object"}(i)&&!function(a){var e=Object.prototype.toString.call(a);return e==="[object RegExp]"||e==="[object Date]"||function(t){return t instanceof Node}(a)||function(t){return t.$$typeof===U}(a)}(i)},U=typeof Symbol=="function"&&Symbol.for?Symbol.for("react.element"):60103;function M(i,a){return a.clone!==!1&&a.isMergeableObject(i)?O((e=i,Array.isArray(e)?[]:{}),i,a):i;var e}function $(i,a,e){return i.concat(a).map(function(t){return M(t,e)})}function D(i){return Object.keys(i).concat(function(a){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(a).filter(function(e){return a.propertyIsEnumerable(e)}):[]}(i))}function I(i,a){try{return a in i}catch{return!1}}function Z(i,a,e){var t={};return e.isMergeableObject(i)&&D(i).forEach(function(s){t[s]=M(i[s],e)}),D(a).forEach(function(s){(function(n,r){return I(n,r)&&!(Object.hasOwnProperty.call(n,r)&&Object.propertyIsEnumerable.call(n,r))})(i,s)||(I(i,s)&&e.isMergeableObject(a[s])?t[s]=function(n,r){if(!r.customMerge)return O;var o=r.customMerge(n);return typeof o=="function"?o:O}(s,e)(i[s],a[s],e):t[s]=M(a[s],e))}),t}var O=function(i,a,e){(e=e||{}).arrayMerge=e.arrayMerge||$,e.isMergeableObject=e.isMergeableObject||q,e.cloneUnlessOtherwiseSpecified=M;var t=Array.isArray(a);return t===Array.isArray(i)?t?e.arrayMerge(i,a,e):Z(i,a,e):M(a,e)},R=function(i){return typeof i=="object"&&i.nodeType!==void 0?i:typeof i=="string"?document.querySelector(i):null},y=function(i,a,e,t){t===void 0&&(t=!1);var s=document.createElement(i);return e&&(s[t?"innerHTML":"textContent"]=e),a&&(s.className=a),s},A=function(i){i.parentNode.removeChild(i)},v=function(i,a,e){return e===void 0&&(e=!1),e?O(i,a):Object.assign(i,a)},X=function(i,a){return i.toLowerCase()+":to:"+a.toLowerCase()},H=function(i,a){Object.assign(i.prototype,a)},S={},J=1,d={on:function(i,a,e,t){t===void 0&&(t={});var s="jvm:"+a+"::"+J++;S[s]={selector:i,handler:e},e._uid=s,i.addEventListener(a,e,t)},delegate:function(i,a,e,t){(a=a.split(" ")).forEach(function(s){d.on(i,s,function(n){var r=n.target;r.matches(e)&&t.call(r,n)})})},off:function(i,a,e){var t=a.split(":")[1];i.removeEventListener(t,e),delete S[e._uid]},flush:function(){Object.keys(S).forEach(function(i){d.off(S[i].selector,i,S[i].handler)})},getEventRegistry:function(){return S}},_={onLoaded:"map:loaded",onViewportChange:"viewport:changed",onRegionClick:"region:clicked",onMarkerClick:"marker:clicked",onRegionSelected:"region:selected",onMarkerSelected:"marker:selected",onRegionTooltipShow:"region.tooltip:show",onMarkerTooltipShow:"marker.tooltip:show",onDestroyed:"map:destroyed"},T=function(i,a,e){var t=R(a),s=t.getAttribute("class").indexOf("jvm-region")===-1?"marker":"region",n=s==="region",r=n?t.getAttribute("data-code"):t.getAttribute("data-index"),o=n?_.onRegionSelected:_.onMarkerSelected;return e&&(o=n?_.onRegionTooltipShow:_.onMarkerTooltipShow),{type:s,code:r,event:o,element:n?i.regions[r].element:i._markers[r].element,tooltipText:n?i._mapData.paths[r].name||"":i._markers[r].config.name||""}},Y=function(){function i(){}return i.prototype.dispose=function(){this._tooltip?A(this._tooltip):this.shape.remove();for(var a,e=N(Object.getOwnPropertyNames(this));!(a=e()).done;)this[a.value]=null},i}(),G={getLabelText:function(i,a){if(a){if(typeof a.render=="function"){var e=[];return this.config&&this.config.marker&&e.push(this.config.marker),e.push(i),a.render.apply(this,e)}return i}},getLabelOffsets:function(i,a){return typeof a.offsets=="function"?a.offsets(i):Array.isArray(a.offsets)?a.offsets[i]:[0,0]},setStyle:function(i,a){this.shape.setStyle(i,a)},remove:function(){this.shape.remove(),this.label&&this.label.remove()},hover:function(i){this._setStatus("isHovered",i)},select:function(i){this._setStatus("isSelected",i)},_setStatus:function(i,a){this.shape[i]=a,this.shape.updateStyle(),this[i]=a,this.label&&(this.label[i]=a,this.label.updateStyle())}},V=function(i){function a(t){var s,n=t.map,r=t.code,o=t.path,h=t.style,c=t.label,u=t.labelStyle,p=t.labelsGroup;(s=i.call(this)||this)._map=n,s.shape=s._createRegion(o,r,h);var f=s.getLabelText(r,c);if(c&&f){var m=s.shape.getBBox(),l=s.getLabelOffsets(r,c);s.labelX=m.x+m.width/2+l[0],s.labelY=m.y+m.height/2+l[1],s.label=s._map.canvas.createText({text:f,textAnchor:"middle",alignmentBaseline:"central",dataCode:r,x:s.labelX,y:s.labelY},u,p),s.label.addClass("jvm-region jvm-element")}return s}b(a,i);var e=a.prototype;return e._createRegion=function(t,s,n){return(t=this._map.canvas.createPath({d:t,dataCode:s},n)).addClass("jvm-region jvm-element"),t},e.updateLabelPosition=function(){this.label&&this.label.set({x:this.labelX*this._map.scale+this._map.transX*this._map.scale,y:this.labelY*this._map.scale+this._map.transY*this._map.scale})},a}(Y);H(V,G);var K=function(i){function a(e){var t,s=e.index,n=e.map,r=e.style,o=e.x1,h=e.y1,c=e.x2,u=e.y2,p=e.group,f=e.config;return(t=i.call(this)||this).config=f,t.shape=n.canvas.createLine({x1:o,y1:h,x2:c,y2:u,dataIndex:s},r,p),t.shape.addClass("jvm-line"),t}return b(a,i),a.prototype.setStyle=function(e,t){this.shape.setStyle(e,t)},a}(Y),B=function(i){function a(t){var s,n=t.index,r=t.style,o=t.label,h=t.cx,c=t.cy,u=t.map,p=t.group;return(s=i.call(this)||this)._map=u,s._isImage=!!r.initial.image,s.config=arguments[0],s.shape=u.canvas[s._isImage?"createImage":"createCircle"]({dataIndex:n,cx:h,cy:c},r,p),s.shape.addClass("jvm-marker jvm-element"),s._isImage&&s.updateLabelPosition(),o&&s._createLabel(s.config),s}b(a,i);var e=a.prototype;return e.updateLabelPosition=function(){this.label&&this.label.set({x:this._labelX*this._map.scale+this._offsets[0]+this._map.transX*this._map.scale+5+(this._isImage?(this.shape.width||0)/2:this.shape.node.r.baseVal.value),y:this._labelY*this._map.scale+this._map.transY*this._map.scale+this._offsets[1]})},e._createLabel=function(t){var s=t.index,n=t.map,r=t.label,o=t.labelsGroup,h=t.cx,c=t.cy,u=t.marker,p=t.isRecentlyCreated,f=this.getLabelText(s,r);this._labelX=h/n.scale-n.transX,this._labelY=c/n.scale-n.transY,this._offsets=p&&u.offsets?u.offsets:this.getLabelOffsets(s,r),this.label=n.canvas.createText({text:f,dataIndex:s,x:this._labelX,y:this._labelY,dy:"0.6ex"},n.params.markerLabelStyle,o),this.label.addClass("jvm-marker jvm-element"),p&&this.updateLabelPosition()},a}(Y);H(B,G);var Q=function(){function i(a){a===void 0&&(a={}),this._options=a,this._map=this._options.map,this._series=this._options.series,this._body=y("div","jvm-legend"),this._options.cssClass&&this._body.setAttribute("class",this._options.cssClass),a.vertical?this._map.legendVertical.appendChild(this._body):this._map.legendHorizontal.appendChild(this._body),this.render()}return i.prototype.render=function(){var a,e=this._series.scale.getTicks(),t=y("div","jvm-legend-inner");if(this._body.innderHTML="",this._options.title){var s=y("div","jvm-legend-title",this._options.title);this._body.appendChild(s)}this._body.appendChild(t);for(var n=0;n<e.length;n++){var r=y("div","jvm-legend-tick"),o=y("div","jvm-legend-tick-sample");switch(this._series.config.attribute){case"fill":a=e[n].value,/\.(jpg|gif|png)$/.test(a)?o.style.background="url("+e[n].value+")":o.style.background=e[n].value;break;case"stroke":o.style.background=e[n].value;break;case"image":o.style.background="url("+(typeof e[n].value=="object"?e[n].value.url:e[n].value)+") no-repeat center center",o.style.backgroundSize="cover"}r.appendChild(o);var h=e[n].label;this._options.labelRender&&(h=this._options.labelRender(h));var c=y("div","jvm-legend-tick-text",h);r.appendChild(c),t.appendChild(r)}},i}(),ee=function(){function i(e){this._scale=e}var a=i.prototype;return a.getValue=function(e){return this._scale[e]},a.getTicks=function(){var e=[];for(var t in this._scale)e.push({label:t,value:this._scale[t]});return e},i}(),te=function(){function i(e,t,s){e===void 0&&(e={}),this._map=s,this._elements=t,this._values=e.values||{},this.config=e,this.config.attribute=e.attribute||"fill",e.attributes&&this.setAttributes(e.attributes),typeof e.scale=="object"&&(this.scale=new ee(e.scale)),this.config.legend&&(this.legend=new Q(v({map:this._map,series:this},this.config.legend))),this.setValues(this._values)}var a=i.prototype;return a.setValues=function(e){var t={};for(var s in e)e[s]&&(t[s]=this.scale.getValue(e[s]));this.setAttributes(t)},a.setAttributes=function(e){for(var t in e)this._elements[t]&&this._elements[t].element.setStyle(this.config.attribute,e[t])},a.clear=function(){var e,t={};for(e in this._values)this._elements[e]&&(t[e]=this._elements[e].element.shape.style.initial[this.config.attribute]);this.setAttributes(t),this._values={}},i}(),E={mill:function(i,a,e){return{x:this.radius*(a-e)*this.radDeg,y:-this.radius*Math.log(Math.tan((45+.4*i)*this.radDeg))/.8}},merc:function(i,a,e){return{x:this.radius*(a-e)*this.radDeg,y:-this.radius*Math.log(Math.tan(Math.PI/4+i*Math.PI/360))}},aea:function(i,a,e){var t=e*this.radDeg,s=29.5*this.radDeg,n=45.5*this.radDeg,r=i*this.radDeg,o=a*this.radDeg,h=(Math.sin(s)+Math.sin(n))/2,c=Math.cos(s)*Math.cos(s)+2*h*Math.sin(s),u=h*(o-t),p=Math.sqrt(c-2*h*Math.sin(r))/h,f=Math.sqrt(c-2*h*Math.sin(0))/h;return{x:p*Math.sin(u)*this.radius,y:-(f-p*Math.cos(u))*this.radius}},lcc:function(i,a,e){var t=e*this.radDeg,s=a*this.radDeg,n=33*this.radDeg,r=45*this.radDeg,o=i*this.radDeg,h=Math.log(Math.cos(n)*(1/Math.cos(r)))/Math.log(Math.tan(Math.PI/4+r/2)*(1/Math.tan(Math.PI/4+n/2))),c=Math.cos(n)*Math.pow(Math.tan(Math.PI/4+n/2),h)/h,u=c*Math.pow(1/Math.tan(Math.PI/4+o/2),h),p=c*Math.pow(1/Math.tan(Math.PI/4+0),h);return{x:u*Math.sin(h*(s-t))*this.radius,y:-(p-u*Math.cos(h*(s-t)))*this.radius}}};E.degRad=180/Math.PI,E.radDeg=Math.PI/180,E.radius=6381372;var ie={_setupContainerEvents:function(){var i,a,e=this,t=this,s=!1;this.params.draggable&&(d.on(this.container,"mousemove",function(n){if(!s)return!1;t.transX-=(i-n.pageX)/t.scale,t.transY-=(a-n.pageY)/t.scale,t._applyTransform(),i=n.pageX,a=n.pageY}),d.on(this.container,"mousedown",function(n){return s=!0,i=n.pageX,a=n.pageY,!1}),d.on(document.body,"mouseup",function(){s=!1})),this.params.zoomOnScroll&&d.on(this.container,"wheel",function(n){var r=75*((n.deltaY||-n.wheelDelta||n.detail)>>10||1),o=e.container.getBoundingClientRect(),h=n.pageX-o.left-window.pageXOffset,c=n.pageY-o.top-window.pageYOffset,u=Math.pow(1+t.params.zoomOnScrollSpeed/1e3,-1.5*r);t.tooltip&&t._tooltip.hide(),t._setScale(t.scale*u,h,c),n.preventDefault()})},_setupElementEvents:function(){var i,a,e,t=this,s=this.container;d.on(s,"mousemove",function(n){Math.abs(i-n.pageX)+Math.abs(a-n.pageY)>2&&(e=!0)}),d.delegate(s,"mousedown",".jvm-element",function(n){i=n.pageX,a=n.pageY,e=!1}),d.delegate(s,"mouseover mouseout",".jvm-element",function(n){var r=T(t,this,!0),o=t.params.showTooltip;n.type==="mouseover"?(r.element.hover(!0),o&&(t._tooltip.text(r.tooltipText),t._tooltip.show(),t._emit(r.event,[n,t._tooltip,r.code]))):(r.element.hover(!1),o&&t._tooltip.hide())}),d.delegate(s,"mouseup",".jvm-element",function(n){var r=T(t,this);if(!e&&(r.type==="region"&&t.params.regionsSelectable||r.type==="marker"&&t.params.markersSelectable)){var o=r.element;t.params[r.type+"sSelectableOne"]&&t._clearSelected(r.type+"s"),r.element.isSelected?o.select(!1):o.select(!0),t._emit(r.event,[r.code,o.isSelected,t._getSelected(r.type+"s")])}}),d.delegate(s,"click",".jvm-element",function(n){var r=T(t,this),o=r.type,h=r.code;t._emit(o==="region"?_.onRegionClick:_.onMarkerClick,[n,h])})},_setupZoomButtons:function(){var i=this,a=y("div","jvm-zoom-btn jvm-zoomin","&#43;",!0),e=y("div","jvm-zoom-btn jvm-zoomout","&#x2212",!0);this.container.appendChild(a),this.container.appendChild(e);var t=function(s){return s===void 0&&(s=!0),function(){return i._setScale(s?i.scale*i.params.zoomStep:i.scale/i.params.zoomStep,i._width/2,i._height/2,!1,i.params.zoomAnimate)}};d.on(a,"click",t()),d.on(e,"click",t(!1))},_setupContainerTouchEvents:function(){var i,a,e,t,s,n,r,o=this,h=function(c){var u,p,f,m,l=c.touches;if(c.type=="touchstart"&&(r=0),l.length==1)r==1&&(f=o.transX,m=o.transY,o.transX-=(e-l[0].pageX)/o.scale,o.transY-=(t-l[0].pageY)/o.scale,o._tooltip.hide(),o._applyTransform(),f==o.transX&&m==o.transY||c.preventDefault()),e=l[0].pageX,t=l[0].pageY;else if(l.length==2)if(r==2)p=Math.sqrt(Math.pow(l[0].pageX-l[1].pageX,2)+Math.pow(l[0].pageY-l[1].pageY,2))/a,o._setScale(i*p,s,n),o._tooltip.hide(),c.preventDefault();else{var g=o.container.getBoundingClientRect();u={top:g.top+window.scrollY,left:g.left+window.scrollX},s=l[0].pageX>l[1].pageX?l[1].pageX+(l[0].pageX-l[1].pageX)/2:l[0].pageX+(l[1].pageX-l[0].pageX)/2,n=l[0].pageY>l[1].pageY?l[1].pageY+(l[0].pageY-l[1].pageY)/2:l[0].pageY+(l[1].pageY-l[0].pageY)/2,s-=u.left,n-=u.top,i=o.scale,a=Math.sqrt(Math.pow(l[0].pageX-l[1].pageX,2)+Math.pow(l[0].pageY-l[1].pageY,2))}r=l.length};d.on(o.container,"touchstart",h),d.on(o.container,"touchmove",h)},_createRegions:function(){for(var i in this._regionLabelsGroup=this._regionLabelsGroup||this.canvas.createGroup("jvm-regions-labels-group"),this._mapData.paths){var a=new V({map:this,code:i,path:this._mapData.paths[i].path,style:v({},this.params.regionStyle),labelStyle:this.params.regionLabelStyle,labelsGroup:this._regionLabelsGroup,label:this.params.labels&&this.params.labels.regions});this.regions[i]={config:this._mapData.paths[i],element:a}}},_createLines:function(i,a,e){e===void 0&&(e=!1);var t=!1,s=!1;for(var n in this.linesGroup=this.linesGroup||this.canvas.createGroup("jvm-lines-group"),i){var r=i[n];for(var o in a){var h=e?a[o].config:a[o];h.name===r.from&&(t=this.getMarkerPosition(h)),h.name===r.to&&(s=this.getMarkerPosition(h))}t!==!1&&s!==!1&&(this._lines[X(r.from,r.to)]=new K({index:n,map:this,style:v({initial:this.params.lineStyle},{initial:r.style||{}},!0),x1:t.x,y1:t.y,x2:s.x,y2:s.y,group:this.linesGroup,config:r}))}},_createMarkers:function(i,a){var e=this;i===void 0&&(i={}),a===void 0&&(a=!1),this._markersGroup=this._markersGroup||this.canvas.createGroup("jvm-markers-group"),this._markerLabelsGroup=this._markerLabelsGroup||this.canvas.createGroup("jvm-markers-labels-group");var t=function(){var n=i[s],r=e.getMarkerPosition(n),o=n.coords.join(":");if(!r)return"continue";if(a){if(Object.keys(e._markers).filter(function(c){return e._markers[c]._uid===o}).length)return"continue";s=Object.keys(e._markers).length}var h=new B({index:s,map:e,style:v(e.params.markerStyle,{initial:n.style||{}},!0),label:e.params.labels&&e.params.labels.markers,labelsGroup:e._markerLabelsGroup,cx:r.x,cy:r.y,group:e._markersGroup,marker:n,isRecentlyCreated:a});e._markers[s]&&e.removeMarkers([s]),e._markers[s]={_uid:o,config:n,element:h}};for(var s in i)t()},_createSeries:function(){for(var i in this.series={markers:[],regions:[]},this.params.series)for(var a=0;a<this.params.series[i].length;a++)this.series[i][a]=new te(this.params.series[i][a],i==="markers"?this._markers:this.regions,this)},_applyTransform:function(){var i,a,e,t;this._defaultWidth*this.scale<=this._width?(i=(this._width-this._defaultWidth*this.scale)/(2*this.scale),e=(this._width-this._defaultWidth*this.scale)/(2*this.scale)):(i=0,e=(this._width-this._defaultWidth*this.scale)/this.scale),this._defaultHeight*this.scale<=this._height?(a=(this._height-this._defaultHeight*this.scale)/(2*this.scale),t=(this._height-this._defaultHeight*this.scale)/(2*this.scale)):(a=0,t=(this._height-this._defaultHeight*this.scale)/this.scale),this.transY>a?this.transY=a:this.transY<t&&(this.transY=t),this.transX>i?this.transX=i:this.transX<e&&(this.transX=e),this.canvas.applyTransformParams(this.scale,this.transX,this.transY),this._markers&&this._repositionMarkers(),this._lines&&this._repositionLines(),this._repositionLabels()},_resize:function(){var i=this._baseScale;this._width/this._height>this._defaultWidth/this._defaultHeight?(this._baseScale=this._height/this._defaultHeight,this._baseTransX=Math.abs(this._width-this._defaultWidth*this._baseScale)/(2*this._baseScale)):(this._baseScale=this._width/this._defaultWidth,this._baseTransY=Math.abs(this._height-this._defaultHeight*this._baseScale)/(2*this._baseScale)),this.scale*=this._baseScale/i,this.transX*=this._baseScale/i,this.transY*=this._baseScale/i},_setScale:function(i,a,e,t,s){var n,r,o,h,c,u,p,f,m,l,g=this,C=0,L=Math.abs(Math.round(60*(i-this.scale)/Math.max(i,this.scale)));i>this.params.zoomMax*this._baseScale?i=this.params.zoomMax*this._baseScale:i<this.params.zoomMin*this._baseScale&&(i=this.params.zoomMin*this._baseScale),a!==void 0&&e!==void 0&&(n=i/this.scale,t?(m=a+this._defaultWidth*(this._width/(this._defaultWidth*i))/2,l=e+this._defaultHeight*(this._height/(this._defaultHeight*i))/2):(m=this.transX-(n-1)/i*a,l=this.transY-(n-1)/i*e)),s&&L>0?(o=this.scale,h=(i-o)/L,c=this.transX*this.scale,p=this.transY*this.scale,u=(m*i-c)/L,f=(l*i-p)/L,r=setInterval(function(){C+=1,g.scale=o+h*C,g.transX=(c+u*C)/g.scale,g.transY=(p+f*C)/g.scale,g._applyTransform(),C==L&&(clearInterval(r),g._emit(_.onViewportChange,[g.scale,g.transX,g.transY]))},10)):(this.transX=m,this.transY=l,this.scale=i,this._applyTransform(),this._emit(_.onViewportChange,[this.scale,this.transX,this.transY]))},setFocus:function(i){var a=this;i===void 0&&(i={});var e,t=[];if(i.region?t.push(i.region):i.regions&&(t=i.regions),t.length)return t.forEach(function(o){if(a.regions[o]){var h=a.regions[o].element.shape.getBBox();h&&(e=e===void 0?h:{x:Math.min(e.x,h.x),y:Math.min(e.y,h.y),width:Math.max(e.x+e.width,h.x+h.width)-Math.min(e.x,h.x),height:Math.max(e.y+e.height,h.y+h.height)-Math.min(e.y,h.y)})}}),this._setScale(Math.min(this._width/e.width,this._height/e.height),-(e.x+e.width/2),-(e.y+e.height/2),!0,i.animate);if(i.coords){var s=this.coordsToPoint(i.coords[0],i.coords[1]),n=this.transX-s.x/this.scale,r=this.transY-s.y/this.scale;return this._setScale(i.scale*this._baseScale,n,r,!0,i.animate)}},updateSize:function(){this._width=this.container.offsetWidth,this._height=this.container.offsetHeight,this._resize(),this.canvas.setSize(this._width,this._height),this._applyTransform()},coordsToPoint:function(i,a){var e=w.maps[this.params.map].projection,t=E[e.type](i,a,e.centralMeridian),s=t.x,n=t.y,r=this.getInsetForPoint(s,n);if(!r)return!1;var o=r.bbox;return s=(s-o[0].x)/(o[1].x-o[0].x)*r.width*this.scale,n=(n-o[0].y)/(o[1].y-o[0].y)*r.height*this.scale,{x:s+this.transX*this.scale+r.left*this.scale,y:n+this.transY*this.scale+r.top*this.scale}},getInsetForPoint:function(i,a){for(var e=w.maps[this.params.map].insets,t=0;t<e.length;t++){var s=e[t].bbox,n=s[0],r=s[1];if(i>n.x&&i<r.x&&a>n.y&&a<r.y)return e[t]}},getMarkerPosition:function(i){var a=i.coords;return w.maps[this.params.map].projection?this.coordsToPoint.apply(this,a):{x:a[0]*this.scale+this.transX*this.scale,y:a[1]*this.scale+this.transY*this.scale}},_repositionLines:function(){var i=!1,a=!1;for(var e in this._lines){for(var t in this._markers){var s=this._markers[t];s.config.name===this._lines[e].config.from&&(i=this.getMarkerPosition(s.config)),s.config.name===this._lines[e].config.to&&(a=this.getMarkerPosition(s.config))}i!==!1&&a!==!1&&this._lines[e].setStyle({x1:i.x,y1:i.y,x2:a.x,y2:a.y})}},_repositionMarkers:function(){for(var i in this._markers){var a=this.getMarkerPosition(this._markers[i].config);a!==!1&&this._markers[i].element.setStyle({cx:a.x,cy:a.y})}},_repositionLabels:function(){var i=this.params.labels;if(i){if(i.regions)for(var a in this.regions)this.regions[a].element.updateLabelPosition();if(i.markers)for(var e in this._markers)this._markers[e].element.updateLabelPosition()}}},x=function(){function i(e,t){this.node=this._createElement(e),t&&this.set(t)}var a=i.prototype;return a._createElement=function(e){return document.createElementNS("http://www.w3.org/2000/svg",e)},a.addClass=function(e){this.node.setAttribute("class",e)},a.getBBox=function(){return this.node.getBBox()},a.set=function(e,t){if(typeof e=="object")for(var s in e)this.applyAttr(s,e[s]);else this.applyAttr(e,t)},a.get=function(e){return this.style.initial[e]},a.applyAttr=function(e,t){this.node.setAttribute(e.replace(/[\w]([A-Z])/g,function(s){return s[0]+"-"+s[1]}).toLowerCase(),t)},a.remove=function(){A(this.node)},i}(),j=function(i){function a(t,s,n){var r;return n===void 0&&(n={}),(r=i.call(this,t,s)||this).isHovered=!1,r.isSelected=!1,r.style=n,r.style.current={},r.updateStyle(),r}b(a,i);var e=a.prototype;return e.setStyle=function(t,s){var n;typeof t=="object"?v(this.style.current,t):v(this.style.current,((n={})[t]=s,n)),this.updateStyle()},e.updateStyle=function(){var t={};v(t,this.style.initial),v(t,this.style.current),this.isHovered&&v(t,this.style.hover),this.isSelected&&(v(t,this.style.selected),this.isHovered&&v(t,this.style.selectedHover)),this.set(t)},a}(x),se=function(i){function a(e,t){return i.call(this,"text",e,t)||this}return b(a,i),a.prototype.applyAttr=function(e,t){e==="text"?this.node.textContent=t:i.prototype.applyAttr.call(this,e,t)},a}(j),ae=function(i){function a(e,t){return i.call(this,"image",e,t)||this}return b(a,i),a.prototype.applyAttr=function(e,t){var s;e==="image"?(typeof t=="object"?(s=t.url,this.offset=t.offset||[0,0]):(s=t,this.offset=[0,0]),this.node.setAttributeNS("http://www.w3.org/1999/xlink","href",s),this.width=23,this.height=23,this.applyAttr("width",this.width),this.applyAttr("height",this.height),this.applyAttr("x",this.cx-this.width/2+this.offset[0]),this.applyAttr("y",this.cy-this.height/2+this.offset[1])):e=="cx"?(this.cx=t,this.width&&this.applyAttr("x",t-this.width/2+this.offset[0])):e=="cy"?(this.cy=t,this.height&&this.applyAttr("y",t-this.height/2+this.offset[1])):i.prototype.applyAttr.apply(this,arguments)},a}(j),ne=function(i){function a(t){var s;return(s=i.call(this,"svg")||this)._container=t,s._defsElement=new x("defs"),s._rootElement=new x("g",{id:"jvm-regions-group"}),s.node.appendChild(s._defsElement.node),s.node.appendChild(s._rootElement.node),s._container.appendChild(s.node),s}b(a,i);var e=a.prototype;return e.setSize=function(t,s){this.node.setAttribute("width",t),this.node.setAttribute("height",s)},e.applyTransformParams=function(t,s,n){this._rootElement.node.setAttribute("transform","scale("+t+") translate("+s+", "+n+")")},e.createPath=function(t,s){var n=new j("path",t,s);return n.node.setAttribute("fill-rule","evenodd"),this._add(n)},e.createCircle=function(t,s,n){var r=new j("circle",t,s);return this._add(r,n)},e.createLine=function(t,s,n){var r=new j("line",t,s);return this._add(r,n)},e.createText=function(t,s,n){var r=new se(t,s);return this._add(r,n)},e.createImage=function(t,s,n){var r=new ae(t,s);return this._add(r,n)},e.createGroup=function(t){var s=new x("g");return this.node.appendChild(s.node),t&&(s.node.id=t),s.canvas=this,s},e._add=function(t,s){return(s=s||this._rootElement).node.appendChild(t.node),t},a}(x),re=function(i){function a(t){var s;s=i.call(this)||this;var n=y("div","jvm-tooltip");return s._map=t,s._tooltip=document.body.appendChild(n),s._bindEventListeners(),z(s)||z(s)}b(a,i);var e=a.prototype;return e._bindEventListeners=function(){var t=this;d.on(this._map.container,"mousemove",function(s){if(t._tooltip.classList.contains("active")){var n,r,o=(n=t._map.container,r="#jvm-regions-group",Element.prototype.querySelector.call(n,r)).getBoundingClientRect(),h=t._tooltip.getBoundingClientRect(),c=h.height,u=h.width,p=s.clientY<=o.top+c+5,f=s.pageY-c-5,m=s.pageX-u-5;p&&(f+=c+5,m-=10),s.clientX<o.left+u+5&&(m=s.pageX+5+2,p&&(m+=10)),t.css({top:f+"px",left:m+"px"})}})},e.getElement=function(){return this._tooltip},e.show=function(){this._tooltip.classList.add("active")},e.hide=function(){this._tooltip.classList.remove("active")},e.text=function(t,s){s===void 0&&(s=!1);var n=s?"innerHTML":"textContent";if(!t)return this._tooltip[n];this._tooltip[n]=t},e.css=function(t){for(var s in t)this._tooltip.style[s]=t[s];return this},a}(Y),oe=function(){function i(e,t){var s=e.scale,n=e.values;this._scale=s,this._values=n,this._fromColor=this.hexToRgb(s[0]),this._toColor=this.hexToRgb(s[1]),this._map=t,this.setMinMaxValues(n),this.visualize()}var a=i.prototype;return a.setMinMaxValues=function(e){for(var t in this.min=Number.MAX_VALUE,this.max=0,e)(t=parseFloat(e[t]))>this.max&&(this.max=t),t<this.min&&(this.min=t)},a.visualize=function(){var e,t={};for(var s in this._values)e=parseFloat(this._values[s]),isNaN(e)||(t[s]=this.getValue(e));this.setAttributes(t)},a.setAttributes=function(e){for(var t in e)this._map.regions[t]&&this._map.regions[t].element.setStyle("fill",e[t])},a.getValue=function(e){for(var t,s="#",n=0;n<3;n++)s+=((t=Math.round(this._fromColor[n]+(this._toColor[n]-this._fromColor[n])*((e-this.min)/(this.max-this.min))).toString(16)).length===1?"0":"")+t;return s},a.hexToRgb=function(e){var t=0,s=0,n=0;return e.length==4?(t="0x"+e[1]+e[1],s="0x"+e[2]+e[2],n="0x"+e[3]+e[3]):e.length==7&&(t="0x"+e[1]+e[2],s="0x"+e[3]+e[4],n="0x"+e[5]+e[6]),[parseInt(t),parseInt(s),parseInt(n)]},i}(),w=function(){function i(e){var t=this;if(e===void 0&&(e={}),this.params=v(i.defaults,e,!0),!i.maps[this.params.map])throw new Error("Attempt to use map which was not loaded: "+e.map);this.regions={},this.scale=1,this.transX=0,this.transY=0,this._mapData=i.maps[this.params.map],this._markers={},this._lines={},this._defaultWidth=this._mapData.width,this._defaultHeight=this._mapData.height,this._height=0,this._width=0,this._baseScale=1,this._baseTransX=0,this._baseTransY=0,document.readyState!=="loading"?this._init():window.addEventListener("DOMContentLoaded",function(){return t._init()})}var a=i.prototype;return a._init=function(){var e=this.params;this.container=R(e.selector),this.container.classList.add("jvm-container"),this.canvas=new ne(this.container),this.setBackgroundColor(e.backgroundColor),this._createRegions(),this.updateSize(),this._createLines(e.lines||{},e.markers||{}),this._createMarkers(e.markers),this._repositionLabels(),this._setupContainerEvents(),this._setupElementEvents(),e.zoomButtons&&this._setupZoomButtons(),e.showTooltip&&(this._tooltip=new re(this)),e.selectedRegions&&this._setSelected("regions",e.selectedRegions),e.selectedMarkers&&this._setSelected("_markers",e.selectedMarkers),e.focusOn&&this.setFocus(e.focusOn),e.visualizeData&&(this.dataVisualization=new oe(e.visualizeData,this)),e.bindTouchEvents&&("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)&&this._setupContainerTouchEvents(),e.series&&(this.container.appendChild(this.legendHorizontal=y("div","jvm-series-container jvm-series-h")),this.container.appendChild(this.legendVertical=y("div","jvm-series-container jvm-series-v")),this._createSeries()),this._emit(_.onLoaded,[this])},a.setBackgroundColor=function(e){this.container.style.backgroundColor=e},a.getSelectedRegions=function(){return this._getSelected("regions")},a.clearSelectedRegions=function(){this._clearSelected("regions")},a.getSelectedMarkers=function(){return this._getSelected("_markers")},a.clearSelectedMarkers=function(){this._clearSelected("_markers")},a.addMarkers=function(e){if(Array.isArray(e))return this._createMarkers(e,!0);this._createMarkers([e],!0)},a.removeMarkers=function(e){var t=this;e||(e=Object.keys(this._markers)),e.forEach(function(s){t._markers[s].element.remove(),delete t._markers[s]})},a.addLine=function(e,t,s){s===void 0&&(s={}),console.warn("`addLine` method is deprecated, please use `addLines` instead."),this._createLines([{from:e,to:t,style:s}],this._markers,!0)},a.addLines=function(e){var t=this._getLinesAsUids();Array.isArray(e)||(e=[e]),this._createLines(e.filter(function(s){return!(t.indexOf(X(s.from,s.to))>-1)}),this._markers,!0)},a.removeLines=function(e){var t=this;(e=Array.isArray(e)?e.map(function(s){return X(s.from,s.to)}):this._getLinesAsUids()).forEach(function(s){t._lines[s].dispose(),delete t._lines[s]})},a.removeLine=function(e,t){console.warn("`removeLine` method is deprecated, please use `removeLines` instead.");var s=X(e,t);this._lines.hasOwnProperty(s)&&(this._lines[s].element.remove(),delete this._lines[s])},a.reset=function(){for(var e in this.series)for(var t=0;t<this.series[e].length;t++)this.series[e][t].clear();this.legendHorizontal&&(A(this.legendHorizontal),this.legendHorizontal=null),this.legendVertical&&(A(this.legendVertical),this.legendVertical=null),this.scale=this._baseScale,this.transX=this._baseTransX,this.transY=this._baseTransY,this._applyTransform(),this.clearSelectedMarkers(),this.clearSelectedRegions(),this.removeMarkers()},a.destroy=function(e){var t=this;e===void 0&&(e=!0),d.flush(),this._tooltip.dispose(),this._emit(_.onDestroyed),e&&Object.keys(this).forEach(function(s){try{delete t[s]}catch{}})},a.extend=function(e,t){if(typeof this[e]=="function")throw new Error("The method ["+e+"] does already exist, please use another name.");i.prototype[e]=t},a._emit=function(e,t){for(var s in _)_[s]===e&&typeof this.params[s]=="function"&&this.params[s].apply(this,t)},a._getSelected=function(e){var t=[];for(var s in this[e])this[e][s].element.isSelected&&t.push(s);return t},a._setSelected=function(e,t){var s=this;t.forEach(function(n){s[e][n]&&s[e][n].element.select(!0)})},a._clearSelected=function(e){var t=this;this._getSelected(e).forEach(function(s){t[e][s].element.select(!1)})},a._getLinesAsUids=function(){return Object.keys(this._lines)},i}();w.maps={},w.defaults={map:"world",backgroundColor:"transparent",draggable:!0,zoomButtons:!0,zoomOnScroll:!0,zoomOnScrollSpeed:3,zoomMax:12,zoomMin:1,zoomAnimate:!0,showTooltip:!0,zoomStep:1.5,bindTouchEvents:!0,lineStyle:{stroke:"#808080",strokeWidth:1,strokeLinecap:"round"},markersSelectable:!1,markersSelectableOne:!1,markerStyle:{initial:{r:7,fill:"#374151",fillOpacity:1,stroke:"#FFF",strokeWidth:5,strokeOpacity:.5},hover:{fill:"#3cc0ff",cursor:"pointer"},selected:{fill:"blue"},selectedHover:{}},markerLabelStyle:{initial:{fontFamily:"Verdana",fontSize:12,fontWeight:500,cursor:"default",fill:"#374151"},hover:{cursor:"pointer"},selected:{},selectedHover:{}},regionsSelectable:!1,regionsSelectableOne:!1,regionStyle:{initial:{fill:"#dee2e8",fillOpacity:1,stroke:"none",strokeWidth:0},hover:{fillOpacity:.7,cursor:"pointer"},selected:{fill:"#9ca3af"},selectedHover:{}},regionLabelStyle:{initial:{fontFamily:"Verdana",fontSize:"12",fontWeight:"bold",cursor:"default",fill:"#35373e"},hover:{cursor:"pointer"}}},Object.assign(w.prototype,ie);var he=function(){function i(a){if(a===void 0&&(a={}),!a.selector)throw new Error("Selector is not given.");return new w(a)}return i.addMap=function(a,e){w.maps[a]=e},i}();return window.jsVectorMap=he})})(ce);
